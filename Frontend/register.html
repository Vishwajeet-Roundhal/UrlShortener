<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>Document</title>
  </head>
  <body>
    <section class="auth-forms">
      <div id="auth-container" class="form-container">
        <h2>Register</h2>
        <form id="register-form">
          <input
            type="text"
            id="register-username"
            name="username"
            placeholder="Username"
            required
          />
          <input
            type="password"
            id="register-password"
            name="password"
            placeholder="Password"
            required
          />
          <button type="submit">Register</button>
        </form>
      </div>
    </section>
    <script>
      // Handle Register form submission
     // Ensure that the DOM is fully loaded
document.addEventListener('DOMContentLoaded', function () {
    document.getElementById('register-form').addEventListener('submit', function (e) {
        e.preventDefault(); // Prevent default form submission

        const username = document.getElementById('register-username').value;
        const password = document.getElementById('register-password').value;

        fetch('http://localhost:8080/user/register', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ username: username, password: password }),
        })
        .then(response => response.json())
        .then(data => {
            alert('Registration successful!');
            window.location.href = 'login.html'; // Redirect to login page after successful registration
        })
        .catch(error => {
            console.error('Error registering user:', error);
            alert('Error registering user');
        });
    });
});

    </script>
  </body>
</html>
